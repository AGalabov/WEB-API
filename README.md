# WEB-API
A web based api with MySQL over phpMyAdmin. The has been project developed through the course of "Web technlogies" held in the summer semester of 2018/19 year at FMI of Sofia University. 

Web технологии
СИ, 3-ти курс
Домашна работа No4
СРОК ЗА ПРЕДАВАНЕ:
посочен в moodle

Изисквания за предаване:

• Предаване на домашното в указания срок от всеки студент във
вид на .zip архив със следното име:
(номер_на_домашно)_SI_(курс)_(поток)_(група)_(факултетен_ном
ер), където:
◦ (номер_на_домашно) е число, отговарящо на номерът на
домашното, съответстващо на решението (например 1);
◦ (поток) е число, отговарящо на потока Ви (например 2);
◦ (курс) е число, отговарящо на курс (например 1);
◦ (група) е число, отговарящо на групата Ви (например 1);
◦ (факултетен_номер) е число, отговарящо на факултетния Ви
номер (например 12345);
Пример за .zip архив за домашно: 1_SI_1_3_1_12345.zip
Задача 1
Да се напише система за управление на потребители и задаване на роли.
Всички данни трябва да бъдат запазвани в СУБД. Не се допуска запазване на
пароли в базата от данни в чист вид!
За всеки потребител на системата трябва да се запазват следните данни:
• Email – уникален валиден адрес на електронна поща с максимална дължина 255 символа.
• Име – символен низ с максимална дължина 100 символа. Допустими са единствено
символи на кирилица.

• Фамилия – символен низ с максимална дължина 100 символа. Допустими са единствено
символи на кирилица.
• Парола – символен низ без ограничение за участващите в него символи с максимална
дължина 2056 символа.
• Роля на потребител – уникален символен низ с максимална дължина 255 символа.
Допустими са единствено следните две роли: User и Admin.
В базата от данни трябва да е предварително създаден един потребител със следните данни:
Вашите email, име, фамилия и роля: Admin. Паролата за този потребител да е: Ins3curePa$$w0rd.
Системата трябва да предоставя REST API със следните endpoint-и – задължителна част:
Път Глагол Payload на
Request-а

Payload на
Response-а
при успешно
изпълнение

Payload на
Response-а при
неуспешно
изпълнение

Описание

api.php/
register

POST JSON (обект
с данните за
потребител)

Oбект с
данните за
потребител в
JSON
формат.

Обект от вида
{error:
error_description
}. Символът
error_description
трябва да бъде
заменен със низ,
описващ
грешката –
невалидни
данни или вече
влязъл
потребител.

При валидни данни се създава нов
потребител с роля User.

api.php/
users

GET - Масив от
обекти с
данните на
потребители
в JSON
формат

Обект от вида
{error:
error_description
}. Символът
error_description
трябва да бъде
заменен със низ,
описващ
грешката.

Връща списък с всички налични
потребители в системата

api.php/
user/:em
ail
DELETE - Oбект с
данните за
потребител в
JSON
формат.

Обект от вида
{error:
error_description
}. Символът
error_description
трябва да бъде
заменен със низ,
описващ
грешката.

Изтрива потребител с email :email
от системата

В допълнение по Ваше желание (за бонус) да се добавят следните допълнителни възможности
(не са задължителни):
Път Глагол Payload на
Request-а

Payload на
Response-а
при успешно
изпълнение

Payload на
Response-а при
неуспешно
изпълнение

Описание Изисква ли се
Authentication
и
Authorization?

api.php/
register

POST JSON (обект
с данните за
потребител)

Oбект с
данните за
потребител в
JSON
формат.

Обект от вида
{error:
error_description
}. Символът
error_description
трябва да бъде
заменен със низ,
описващ
грешката –
невалидни
данни или вече
влязъл
потребител.

При валидни
данни се създава
нов потребител с
роля User.

Не

api.php/
login

POST JSON (обект
с email и
парола

Oбект с
данните за
потребител в
JSON
формат. Да се
задава
бисквитка с
идентификат
ор на сесия.

Обект от вида
{error:
error_description
}. Символът
error_description
трябва да бъде
заменен със низ,
описващ
грешката –
грешни email и/
или парола или
вече влязъл
потребител.

Удостоверява
самоличността на
потребител. При
правилно
въведени email и
потребителско
име се създава
нова сесия.

Не

api.php/
logout

GET - Да се изтрие
бисквитката с
идентификат
ор на сесия.

Обект от вида
{error:
error_description
}. Символът
error_description
трябва да бъде
заменен със низ,
описващ
грешката.

Унищожава
потребителска
сесия.

Да, потребител
с роля User
или Admin

api.php/
users

GET - Масив от
обекти с
данните на
потребители
в JSON

Обект от вида
{error:
error_description
}. Символът
error_description

Връща списък с
всички налични
потребители в
системата

Да, потребител
с роля Admin

формат трябва да бъде
заменен със низ,
описващ
грешката.

api.php/
user/:em
ail
DELETE - Oбект с
данните за
потребител в
JSON
формат.

Обект от вида
{error:
error_description
}. Символът
error_description
трябва да бъде
заменен със низ,
описващ
грешката.

Изтрива
потребител с
email :email от
системата

Да, потребител
с роля Admin
